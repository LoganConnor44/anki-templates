<script>
	var versionNumber = '1.20.27';
</script>

<style>
	/*desktop anki*/
	body {
		margin: 0;
	}
	/*ankidroid*/
	#content {
		margin: 0;
	}
	/*ankimobile*/
	material-beautify-chinese-study {
		height: 100dvh;
	}
</style>

<script>
	if (!customElements.get('material-beautify-chinese-study')) {
		console.log('custom element does not exist - creating script to pull it in');
		var script = document.createElement('script');
		script.setAttribute('id', 'import-script');
		script.setAttribute('type', 'module');
		script.setAttribute('src', `https://cdn.jsdelivr.net/npm/beautify-chinese-study@${versionNumber}/dist/beautify-chinese-study/beautify-chinese-study.esm.js`);
		document.body.appendChild(script);
	} else {
		console.log('Custom Element exists.');
	}

	var beautify = document.querySelector('material-beautify-chinese-study');
	if (beautify !== null) {
		beautify.remove();
	}

	var beautify = document.createElement('material-beautify-chinese-study');
	beautify.setAttribute('id', 'beautify-recognition');
	beautify.setAttribute('primary-character', `{{text:Simplified}}`);
	beautify.setAttribute('primary-character-sentence', `{{text:SentenceSimplified}}`);
	beautify.setAttribute('meaning', `{{text:Meaning}}`);
	beautify.setAttribute('card-type', 'recognition');
	beautify.setAttribute('card-orientation', 'question');
	beautify.setAttribute('preferred-phonic', 'zhuyin');
	beautify.setAttribute('force-auto-generation', 'force-auto-generation');
	document.body.appendChild(beautify);
</script>

<div style="display: none">{{Audio}}{{SentenceAudio}}</div>
