<style>
	/*desktop anki*/
	body {
		margin: 0;
	}
	/*ankidroid*/
	#content {
		margin: 0;
	}
	/*ankimobile*/
	material-beautify-chinese-study {
		height: 100dvh;
	}
</style>

<script>
	const versionNumber = '1.20.27';
	const createImportScript = version => {
		const script = document.createElement('script');
		script.setAttribute('id', 'import-script');
		script.setAttribute('type', 'module');
		script.setAttribute('src', `https://cdn.jsdelivr.net/npm/beautify-chinese-study@${version}/dist/beautify-chinese-study/beautify-chinese-study.esm.js`);
		document.body.appendChild(script);
	};

	const beautifyElement = customElements.get('material-beautify-chinese-study');
	if (!beautifyElement) {
		createImportScript(versionNumber);
	}
	beautifyElement.getVersion(x => {
		if (x !== versionNumber) {
			console.log('version does not match retriving newest');
			beautifyElement.remove();
			createImportScript(versionNumber);
		}
	});

	const setQuestionCard = () => {
		const beautify = customElements.get('material-beautify-chinese-study');
		beautify.setAttribute('id', 'beautify-recognition');
		beautify.setAttribute('primary-character', `{{text:Simplified}}`);
		beautify.setAttribute('primary-character-sentence', `{{text:SentenceSimplified}}`);
		beautify.setAttribute('meaning', `{{text:Meaning}}`);
		beautify.setAttribute('card-type', 'recognition');
		beautify.setAttribute('card-orientation', 'question');
		beautify.setAttribute('preferred-phonic', 'zhuyin');
		beautify.setAttribute('force-auto-generation', 'force-auto-generation');
		document.body.appendChild(beautify);
	};

	customElements.whenDefined('material-beautify-chinese-study').then(setQuestionCard);
</script>

<div style="display: none">{{Audio}}{{SentenceAudio}}</div>
